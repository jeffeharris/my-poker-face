# T1-03: Two-pair kicker calculation — RE-VERIFY

## Finding
**Dismissed — kicker calculation is correct**

## Analysis

TRIAGE claimed that `_check_two_pair` returns "single kicker value instead of proper list." The code at `hand_evaluator.py:165-166`:

```python
kicker = sorted([card for card in self.ranks if card not in pairs], reverse=True)[0]
kickers = [kicker]
```

Returns `[kicker]` — a list with one element.

### Why this is correct

In a standard 5-card poker hand with two pair, there are exactly:
- 2 cards for the first pair
- 2 cards for the second pair
- 1 kicker card

So `[kicker]` (a single-element list) is the correct representation.

### With 7 cards (Hold'em)

When 7 cards are available (2 hole + 5 community), `self.ranks` contains all 7 card values. The code:
1. Finds the top 2 pairs via `sorted(pairs, reverse=True)[:2]`
2. Filters out all cards matching those pair ranks
3. Takes the highest remaining card as the kicker

This correctly selects the best kicker from all available non-pair cards.

### Comparison logic verification

Hand comparison in `determine_winner` (poker_game.py:822-826) sorts by:
1. `hand_rank` (ascending — lower is better)
2. `hand_values` (descending — higher is better)
3. `kicker_values` (descending — higher is better)

When two players have the same two pairs, their `hand_values` lists are identical, so the sort falls through to `kicker_values`, correctly choosing the player with the higher kicker.

## Test evidence

All 4 tests pass in `tests/test_triage_t1_03.py`:

1. **test_same_two_pair_higher_kicker_wins**: Alice (K-K-10-10, kicker Q) beats Bob (K-K-10-10, kicker 5) ✓
2. **test_same_two_pair_same_kicker_splits**: Both players with identical K-K-10-10 + kicker 9 → split pot ✓
3. **test_hand_evaluator_two_pair_kicker_value**: 5-card two-pair hand returns correct kicker ✓
4. **test_hand_evaluator_two_pair_selects_best_kicker_from_seven_cards**: 7-card hand picks best kicker from all available cards ✓
