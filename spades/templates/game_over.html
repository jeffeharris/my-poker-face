<!-- templates/game_over.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Spades Game - Game Over</title>
</head>
<body>
    <h1>Game Over</h1>
    <h2>Final Scores:</h2>
    <ul>
        {% for team, score in game_state.scores.items() %}
            <li>{{ team }}: {{ score }} points</li>
        {% endfor %}
    </ul>
    <h2>Bids and Tricks Won:</h2>
    <ul>
        {% for team, players in game_state.teams.items() %}
            <li>
                {{ team }} ({{ players[0] }} & {{ players[1] }})<br>
                Bid: {{ game_state.bids[players[0]] + game_state.bids[players[1]] }}<br>
                Tricks Won: {{ game_state.tricks_won[team] }}
                {% for player in players %}
                    {% if player in game_state.nil_bids %}
                        <br>{{ player }} bid {{ game_state.nil_bids[player] }}
                        {% if player in game_state.get('failed_nil', []) %}
                            - Failed
                        {% else %}
                            - Succeeded
                        {% endif %}
                    {% endif %}
                {% endfor %}
            </li>
        {% endfor %}
    </ul>
    <a href="{{ url_for('index') }}">Play Again</a>
</body>
</html>
